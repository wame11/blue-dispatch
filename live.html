<!DOCTYPE html>
<html lang="en">
<head>
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2644808568343628"
     crossorigin="anonymous"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live News Â· The Blue Dispatch</title>
  <meta name="description" content="Live updates on Israel, Iran, USA, and UK." />

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background-color: #f8fafc;
      color: #06142b;
      line-height: 1.5;
    }
    header {
      background-color: #ffffff;
      border-bottom: 1px solid #e2e8f0;
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .card {
      max-width: 48rem;
      margin: 0 auto;
      background-color: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 0.75rem;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    .news-item {
      border-bottom: 1px solid #e2e8f0;
      padding: 1.5rem;
      transition: background-color 0.2s;
    }
    .news-item:last-child {
      border-bottom: none;
    }
    .news-item:hover {
      background-color: #f8fafc;
    }
    .news-meta {
      font-size: 0.75rem;
      color: #64748b;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-weight: 600;
    }
    .news-title {
      font-size: 1.125rem;
      font-weight: 700;
      color: #06142b;
      margin-bottom: 0.5rem;
      display: block;
      text-decoration: none;
    }
    .news-title:hover {
      color: #1e3a8a; /* Blue-900 lighter */
      text-decoration: underline;
    }
    /* Loading Spinner Styles */
    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #06142b;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 2rem auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* Button Style */
    .x-button {
      display: inline-flex;
      align-items: center;
      background-color: #06142b;
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      text-decoration: none;
      transition: opacity 0.2s;
      margin-top: 1.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    .x-button:hover {
      opacity: 0.9;
    }
  </style>
</head>

<body>
  <header class="py-4 px-6">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <a href="index.html" class="text-xl font-extrabold">The Blue Dispatch</a>

      <nav class="hidden md:flex space-x-6 items-center">
        <a href="index.html" class="text-sm font-medium text-gray-600 hover:text-[#06142B]">Home</a>
        <a href="posts.html" class="text-sm font-medium text-gray-600 hover:text-[#06142B]">Posts</a>
        <a href="about.html" class="text-sm font-medium text-gray-600 hover:text-[#06142B]">About</a>
        <a href="live.html" class="text-sm font-bold text-[#06142B]">Live News</a>
        <a href="donate.html" class="text-sm font-medium text-white px-4 py-2 rounded hover:opacity-90 bg-[#06142B]">Donate</a>
      </nav>

      <div class="md:hidden">
        <button class="text-gray-600 hover:text-[#06142B]" aria-label="Menu">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main class="py-12 px-6 bg-gray-50">
    <div class="max-w-3xl mx-auto text-center mb-8">
      <h1 class="text-4xl font-extrabold">Live World Feed</h1>
      <p class="mt-2 text-gray-600">
        Latest updates on Israel, Iran, USA, and UK.
        <br>
        <span class="text-xs text-gray-400">Powered by Google News*</span>
      </p>

      <!-- External Link to X -->
      <a href="https://x.com/osint613" target="_blank" rel="noopener noreferrer" class="x-button">
        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
        </svg>
        View @osint613 on X
      </a>
    </div>

    <div class="card" id="news-container">
      <div class="p-8 text-center">
        <div class="spinner"></div>
        <p class="text-gray-500">Loading latest reports...</p>
      </div>
    </div>
  </main>

  <!-- FOOTER: Updated with 'text-center' to force center alignment -->
  <footer class="bg-white border-t border-gray-200 mt-12 py-8 text-center">
    <div class="max-w-4xl mx-auto px-4">
      <p class="text-xs text-gray-500 mb-4">* The articles on this page are not checked by The Blue Dispatch</p>
      
      <p class="text-gray-600 mb-2">&copy; <span id="current-year"></span> The Blue Dispatch</p>
      
      <p>
        <a href="https://x.com/blue_dispatch" class="text-[#06142B] hover:underline" target="_blank" rel="noopener noreferrer">
          @blue_dispatch
        </a>
      </p>
    </div>
  </footer>

  <script>
    document.getElementById("current-year").textContent = new Date().getFullYear();

    async function fetchNews() {
      const container = document.getElementById('news-container');
      
      const searchQuery = '(Israel OR Iran OR "United States" OR "United Kingdom") -opinion -editorial -commentary';
      const encodedQuery = encodeURIComponent(searchQuery);
      
      const googleRssUrl = `https://news.google.com/rss/search?q=${encodedQuery}&hl=en-US&gl=US&ceid=US:en`;
      const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(googleRssUrl)}`;

      try {
        const response = await fetch(apiUrl);
        const data = await response.json();

        if (data.status === 'ok' && data.items.length > 0) {
          container.innerHTML = '';
          
          data.items.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
          
          data.items.forEach(item => {
            if (item.title.toLowerCase().includes("opinion")) return;

            const date = new Date(item.pubDate).toLocaleDateString(undefined, {
              weekday: 'short', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'
            });

            let title = item.title;
            const sourceMatch = title.match(/(.*) - (.*)$/);
            let source = "News";
            if (sourceMatch) {
              title = sourceMatch[1];
              source = sourceMatch[2];
            }

            const article = document.createElement('div');
            article.className = 'news-item';
            article.innerHTML = `
              <div class="news-meta">
                <span class="text-blue-700">${source}</span> &bull; ${date}
              </div>
              <a href="${item.link}" target="_blank" class="news-title">
                ${title}
              </a>
            `;
            container.appendChild(article);
          });
        } else {
          container.innerHTML = '<div class="p-8 text-center text-red-600">No news found or feed temporarily unavailable.</div>';
        }
      } catch (error) {
        console.error('Error fetching news:', error);
        container.innerHTML = `
          <div class="p-8 text-center">
            <p class="text-red-600 font-bold mb-2">Unable to load news feed.</p>
            <p class="text-gray-500 text-sm">This might be due to a network restriction or the API service.</p>
          </div>
        `;
      }
    }
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2644808568343628"
     crossorigin="anonymous"></script>
<!-- one -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2644808568343628"
     data-ad-slot="2881420336"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    fetchNews();
  </script>
</body>
</html>
